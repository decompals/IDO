#include <stdio.h>
#include <gl/gl.h>
#include <gl/device.h>

unsigned short curs2[128] = {
    0x0000, 0x0000, 0x0000, 0x0000,
    0x0000, 0x0000, 0x0000, 0x0000,
    0x0000, 0x0000, 0x0000, 0x0000,
    0xffff, 0xffff, 0xffff, 0xffff,
    0xffff, 0xffff, 0xffff, 0xffff,
    0xffff, 0xffff, 0xffff, 0xffff,
    0xffff, 0xffff, 0xffff, 0xffff,
    0xffff, 0xffff, 0xffff, 0xffff,
    0xffff, 0xffff, 0xffff, 0xffff,
    0xffff, 0xffff, 0xffff, 0xffff,
    0x0000, 0xffff, 0x6666, 0xffff,
    0x6666, 0xffff, 0x0000, 0xffff,
    0x0000, 0xffff, 0x6666, 0xffff,
    0x6666, 0xffff, 0x0000, 0xffff,
    0x0000, 0xffff, 0x6666, 0xffff,
    0x6666, 0xffff, 0x0000, 0xffff,

    0x0000, 0x0000, 0x0000, 0x0000,
    0x0000, 0x0000, 0x0000, 0x0000,
    0x0000, 0x0000, 0x0000, 0x0000,
    0x0000, 0x0000, 0x0000, 0x0000,
    0xffff, 0xffff, 0xffff, 0xffff,
    0x0000, 0x0000, 0x0000, 0x0000,
    0xffff, 0xffff, 0xffff, 0xffff,
    0x0000, 0x0000, 0x0000, 0x0000,
    0xffff, 0xffff, 0xffff, 0xffff,
    0x0000, 0x0000, 0x0000, 0x0000,
    0xffff, 0xffff, 0xffff, 0xffff,
    0xffff, 0x0000, 0xffff, 0x0000,
    0xffff, 0xffff, 0xffff, 0xffff,
    0xffff, 0x0000, 0xffff, 0x0000,
    0xffff, 0xffff, 0xffff, 0xffff,
    0xffff, 0x0000, 0xffff, 0x0000
};

main()
{
    short val;

    prefsize(400, 400);
    if (getgdesc(GD_BITS_CURSOR) < 2) {
	fprintf(stderr, "2-plane cursor not available on this machine\n");
	return 1;
    }
    winopen("flag");
    color(BLACK);
    clear();
    qdevice(ESCKEY);
    drawmode(CURSORDRAW);
    mapcolor(1, 255, 0, 0);
    mapcolor(2, 0, 0, 255);
    mapcolor(3, 255, 255, 255);
    drawmode(NORMALDRAW);
    curstype(C32X2);
    defcursor(1, curs2);
    setcursor(1, 0, 0);

    while (TRUE) {
	if (qread(&val) == ESCKEY && val == 0)
	    break;
    }
    gexit();
    return 0;
}
